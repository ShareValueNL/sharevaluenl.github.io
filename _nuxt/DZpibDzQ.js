import{_ as C,u as E,a as P}from"./Cr9Wl7pL.js";import{_ as S}from"./Bi8GxQa4.js";import{d as B,a as N,r as n,w as U,E as A,c as L,e as $,u as t,n as u,f as _,p as D,F,_ as O,o as w,t as V,s as x,g as q,h as H,l as I,m as M}from"./DfbAEhwh.js";import{u as R}from"./Ci1TRiRn.js";import{u as j}from"./CIzclGfC.js";import"./Ce5E2i10.js";import"./CeTfgpec.js";import"./C0ej8V-z.js";import"./CTpun-6L.js";import"./g3Vw0fS1.js";import"./_do4a06x.js";import"./DFf0lFbW.js";import"./DBOboC8S.js";import"./b8lFzd2I.js";const z=["src"],G={class:"text-xl"},ie=B({__name:"[slug]",async setup(J){let d,g;const f=N(),h=n([]),o=n(!0),i=n(f.params.slug),s=n(),y=async()=>{o.value=!0;try{const e=await R("nieuws",{filters:{slug:{$eq:i.value}}});if(e.length===0){x({statusCode:404,message:"Post not found"});return}const{title:r,excerpt:a,imageUrl:l,publishedAt:c,backDate:m,blocks:v,seo:b}=e[0],p=m||c;s.value={title:r,excerpt:a,imageUrl:H(l),date:q(p,"date")},h.value=v.map(k=>({...k,componentName:E(k.__component)})),j(b,r,a,"article"),I([M({"@type":"Article",headline:r,image:s.value.imageUrl,datePublished:p,dateModified:p,description:a})])}catch(e){console.error("Error loading news post:",e),x({statusCode:500,message:"Error loading post"})}finally{o.value=!1}};return[d,g]=U(()=>y()),await d,g(),A(()=>f.params.slug,e=>{e!==i.value&&(i.value=e,y())}),(e,r)=>{const a=P,l=S,c=O,m=C;return t(o)?(w(),L(a,{key:0})):(w(),$(F,{key:1},[u(l,{title:t(s).title,tags:["Nieuws",t(s).date],"dark-mode":""},null,8,["title","tags"]),_("article",null,[u(c,{"blank-aside":"",class:"nieuws-post-main-section"},{contentSlot:D(()=>[_("img",{src:t(s).imageUrl},null,8,z),_("p",G,V(t(s).excerpt),1)]),_:1}),u(m,{"page-blocks":t(h),"is-loading":t(o)},null,8,["page-blocks","is-loading"])])],64))}}});export{ie as default};
