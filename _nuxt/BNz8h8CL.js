import{d as C,a as P,r,w as S,H as B,c as E,f as N,u as t,o as k,_ as U,p as u,g as _,q as A,t as L,z as D,F,e as $,s as w,h as q,i as H,m as O,n as V}from"./DQBL4aL1.js";import{_ as z}from"./BAGLjFgM.js";import{_ as I,u as M}from"./DY8DqWav.js";import{u as R}from"./xYqad6Zr.js";import"./B3p-PeFg.js";import"./CSwX7MMu.js";import"./DWwJPBDb.js";import"./gOuiaR6f.js";import"./CjjGjSTF.js";import"./CCxvDtAO.js";import"./BG8e89rS.js";import"./BR9KEk54.js";const j=["src"],G={class:"text-xl"},ne=C({__name:"[slug]",async setup(J){let d,g;const f=P(),h=r([]),a=r(!0),i=r(f.params.slug),o=r(),x=async()=>{a.value=!0;try{const e=await $("nieuws",{filters:{slug:{$eq:i.value}}});if(e.length===0){w({statusCode:404,message:"Post not found"});return}const{title:n,excerpt:s,imageUrl:c,publishedAt:l,backDate:m,blocks:v,seo:b}=e[0],p=m||l;o.value={title:n,excerpt:s,imageUrl:H(c),date:q(p,"date")},h.value=v.map(y=>({...y,componentName:M(y.__component)})),R(b,n,s,"article"),O([V({"@type":"Article",headline:n,image:o.value.imageUrl,datePublished:p,dateModified:p,description:s})])}catch(e){console.error("Error loading news post:",e),w({statusCode:500,message:"Error loading post"})}finally{a.value=!1}};return[d,g]=S(()=>x()),await d,g(),B(()=>f.params.slug,e=>{e!==i.value&&(i.value=e,x())}),(e,n)=>{const s=U,c=z,l=D,m=I;return t(a)?(k(),E(s,{key:0})):(k(),N(F,{key:1},[u(c,{title:t(o).title,tags:["Nieuws",t(o).date],"dark-mode":""},null,8,["title","tags"]),_("article",null,[u(l,{"blank-aside":"",class:"nieuws-post-main-section"},{contentSlot:A(()=>[_("img",{src:t(o).imageUrl},null,8,j),_("p",G,L(t(o).excerpt),1)]),_:1}),u(m,{"page-blocks":t(h),"is-loading":t(a)},null,8,["page-blocks","is-loading"])])],64))}}});export{ne as default};
