import{_ as P}from"./BDebmmik.js";import{_ as B,b as I,u as W}from"./DfdGbpCl.js";import{s as L,d as $,a as A,r,w as H,E as V,e as K,A as h,u as n,n as m,f as i,c as j,p as z,G as T,H as U,I as q,F as O,_ as R,J as G,o as k,t as w,K as J,g as D,h as M}from"./BRbEkPzL.js";import{a as Q,c as X}from"./BJNBZn_C.js";import{u as Y}from"./BKZuaUuY.js";import"./DB5i8S-d.js";import"./f_dq-Kxn.js";import"./ByoZm-qf.js";import"./DzbEzxTH.js";import"./D5V2s1rD.js";import"./CRivz5jq.js";import"./CpwJpBQJ.js";import"./CgK7J1Av.js";import"./CS0mPpZ1.js";const Z={populate:"deep"},{collections:b}=X;async function ee(E,p){try{const{findOne:l}=Q(),{data:c}=await l(b[E],{...Z,...p});return c.map(({attributes:e})=>(e.expertises&&(e.expertises.data?.length&&(e.expertises=e.expertises.data.map(({attributes:t})=>t)),e.expertises.length||(e.expertises=[])),e.klanten&&(e.klanten=e.klanten.data?.length?e.klanten.data.map(({attributes:t})=>t):[]),e.collegas&&(e.collegas=e.collegas.data?.length?e.collegas.data.map(({attributes:t})=>t):[]),e.author&&(e.author=e.author?.data?e.author.data.attributes:e.author),e.collega=e.collega?.data?e.collega.data.attributes:null,e.klant=e.klant?.data?e.klant.data.attributes:null,e.expertise=e.expertise?.data?e.expertise.data.attributes:null,e.contactPerson=e.contactPerson?.data?e.contactPerson.data.attributes:null,e.meta=e.meta?e.meta:null,e))[0]}catch(l){if(l)throw L({statusCode:l?.status??"",statusMessage:l?.message??""});return[]}}const ae={class:"italic"},ne={key:0,class:"mt-4"},te=["href"],he=$({__name:"[slug]",async setup(E){let p,l;const c=A(),d=r(typeof c.params.slug!="string"?c.params.slug[0]:c.params.slug),e=r(),t=r(),u=r([]),g=r(),_=r(!0),F=r(null),v=r(!1),S=async()=>{_.value=!0;try{const a=await ee("KWFEvents",{filters:{slug:{$eq:d.value}}});F.value=a,v.value=new Date(a.eventStart)<new Date(new Date().toDateString()),u.value=a.blocks.map(s=>s.__component==="call-to-action.double"?(g.value={...s,componentName:W(s.__component)},null):{...s,componentName:W(s.__component)}).filter(s=>s!==null);const o=D(a.eventStart,"date"),y=D(a.eventStart,"time"),x=D(a.eventEnd,"time"),f=a.allDay?"De hele dag":`${y} - ${x}`;e.value={date:o,title:a.title,imageUrl:M(a.image)},t.value={date:o,time:f,location:a.location,donateLink:a.donateLink},Y(a.seo,a.title,a.excerpt,"article")}catch(a){console.error("Error loading event data:",a)}finally{_.value=!1}};return[p,l]=H(()=>S()),await p,l(),V(()=>c.params.slug,(a,o)=>{a!==o&&(d.value=typeof a!="string"?a[0]:a,F.value=null,e.value=void 0,t.value=void 0,u.value=[],g.value=void 0,S())}),(a,o)=>{const y=P,x=B,f=R,s=J,C=I,N=G;return!n(_)&&n(e)&&n(u)?(k(),K(O,{key:0},[m(y,{title:n(e).title,"image-url":n(e)?.imageUrl,date:n(e)?.date},null,8,["title","image-url","date"]),i("article",null,[m(x,{"page-blocks":n(u),"is-loading":n(_)},null,8,["page-blocks","is-loading"]),m(f,{class:T(["bg-brand-primary-100 pt-12",n(v)?"mb-12":""]),title:"KWF event informatie:",underline:"","blank-aside":""},{contentSlot:z(()=>[i("div",ae,[i("div",null,w(n(t)?.date)+" - "+w(n(t)?.time),1),i("div",null,w(n(t)?.location),1)]),n(v)?(k(),K("p",ne," Dit KWF event is alweer voorbij! Helaas zijn de inschrijvingen voor dit KWF event daarom gesloten. Wil je ook graag een van de KWF events bijwonen? Bekijk dan de toekomstige KWF events hieronder. ")):h("",!0)]),_:1},8,["class"]),n(v)?h("",!0):(k(),j(f,{key:0,class:"bg-brand-primary-100 pb-12 mb-12",title:"Doneren",underline:"","blank-aside":""},{contentSlot:z(()=>[o[1]||(o[1]=i("strong",null," Wil jij onze lopers sponsoren? Dat zou fantastisch zijn, want daar doen ze het voor. Nu kun je alvast het gehele team sponsoren, later zullen de teamleden ook eigen sponsorpagina's aanmaken. ",-1)),i("div",null,[i("a",{href:n(t)?.donateLink||"https://acties.kwf.nl/fundraisers/onzeKWFevents",target:"_blank",class:"btn-primary mt-3 md:mt-6"},[o[0]||(o[0]=i("div",null,"Naar de ShareValue KWF-sponsorpagina",-1)),m(s,{class:"ml-2 !mb-0"})],8,te)])]),_:1})),m(C,{exclude:[n(d),"past"],"future-events-heading":"Neem deel aan de komende KWF events:",underline:""},null,8,["exclude"])]),n(g)?(k(),j(N,U(q({key:0},n(g))),null,16)):h("",!0)],64)):h("",!0)}}});export{he as default};
