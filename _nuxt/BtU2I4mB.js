import{d as C,a as P,r,w as S,H as B,c as E,f as N,u as t,o as k,_ as U,p,g as _,q as A,t as L,z as D,F,e as $,s as w,h as q,i as H,m as O,n as V}from"./Bb3AUzBu.js";import{_ as z}from"./BHgUiQak.js";import{_ as I,u as M}from"./BSlPaPC-.js";import{u as R}from"./SbLAtIQz.js";import"./YCFzeEA4.js";import"./DK4-1rKh.js";import"./C1Iih877.js";import"./BaOnHarJ.js";import"./D4wZqfmF.js";import"./DHseEARK.js";import"./9Ci4Vddh.js";const j=["src"],G={class:"text-xl"},ae=C({__name:"[slug]",async setup(J){let d,g;const f=P(),h=r([]),a=r(!0),i=r(f.params.slug),o=r(),x=async()=>{a.value=!0;try{const e=await $("nieuws",{filters:{slug:{$eq:i.value}}});if(e.length===0){w({statusCode:404,message:"Post not found"});return}const{title:n,excerpt:s,imageUrl:c,publishedAt:l,backDate:m,blocks:v,seo:b}=e[0],u=m||l;o.value={title:n,excerpt:s,imageUrl:H(c),date:q(u,"date")},h.value=v.map(y=>({...y,componentName:M(y.__component)})),R(b,n,s,"article"),O([V({"@type":"Article",headline:n,image:o.value.imageUrl,datePublished:u,dateModified:u,description:s})])}catch(e){console.error("Error loading news post:",e),w({statusCode:500,message:"Error loading post"})}finally{a.value=!1}};return[d,g]=S(()=>x()),await d,g(),B(()=>f.params.slug,e=>{e!==i.value&&(i.value=e,x())}),(e,n)=>{const s=U,c=z,l=D,m=I;return t(a)?(k(),E(s,{key:0})):(k(),N(F,{key:1},[p(c,{title:t(o).title,tags:["Nieuws",t(o).date],"dark-mode":""},null,8,["title","tags"]),_("article",null,[p(l,{"blank-aside":"",class:"nieuws-post-main-section"},{contentSlot:A(()=>[_("img",{src:t(o).imageUrl},null,8,j),_("p",G,L(t(o).excerpt),1)]),_:1}),p(m,{"page-blocks":t(h),"is-loading":t(a)},null,8,["page-blocks","is-loading"])])],64))}}});export{ae as default};
