import{a as C,_ as E,u as P}from"./VtUFcUZF.js";import{_ as S}from"./9MxZsttm.js";import{d as B,a as N,r,w as U,E as A,c as L,e as D,u as t,o as k,n as u,f as _,p as F,t as $,x as O,F as V,s as w,g as q,h as H,l as I,m as M}from"./D_g4a1Dm.js";import{u as R}from"./BVjUZjjc.js";import{u as j}from"./BBkfBLxD.js";import"./CqWGKle_.js";import"./CCbEg-tP.js";import"./CHgamKg5.js";import"./P8yD19eg.js";import"./D0MKznb7.js";import"./DCVgvhkJ.js";import"./DfwfKR_0.js";import"./BhKcONMF.js";const z=["src"],G={class:"text-xl"},re=B({__name:"[slug]",async setup(J){let d,g;const f=N(),h=r([]),a=r(!0),i=r(f.params.slug),o=r(),x=async()=>{a.value=!0;try{const e=await R("nieuws",{filters:{slug:{$eq:i.value}}});if(e.length===0){w({statusCode:404,message:"Post not found"});return}const{title:n,excerpt:s,imageUrl:l,publishedAt:c,backDate:m,blocks:v,seo:b}=e[0],p=m||c;o.value={title:n,excerpt:s,imageUrl:H(l),date:q(p,"date")},h.value=v.map(y=>({...y,componentName:P(y.__component)})),j(b,n,s,"article"),I([M({"@type":"Article",headline:n,image:o.value.imageUrl,datePublished:p,dateModified:p,description:s})])}catch(e){console.error("Error loading news post:",e),w({statusCode:500,message:"Error loading post"})}finally{a.value=!1}};return[d,g]=U(()=>x()),await d,g(),A(()=>f.params.slug,e=>{e!==i.value&&(i.value=e,x())}),(e,n)=>{const s=C,l=S,c=O,m=E;return t(a)?(k(),L(s,{key:0})):(k(),D(V,{key:1},[u(l,{title:t(o).title,tags:["Nieuws",t(o).date],"dark-mode":""},null,8,["title","tags"]),_("article",null,[u(c,{"blank-aside":"",class:"nieuws-post-main-section"},{contentSlot:F(()=>[_("img",{src:t(o).imageUrl},null,8,z),_("p",G,$(t(o).excerpt),1)]),_:1}),u(m,{"page-blocks":t(h),"is-loading":t(a)},null,8,["page-blocks","is-loading"])])],64))}}});export{re as default};
