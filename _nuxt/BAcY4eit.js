import{d as F,a as H,r as l,w as M,s as V,g as q,h as g,i as D,j as O,k as j,l as z,m as I,c as G,e as J,u as e,o as f,_ as K,n as s,f as a,p as x,q as h,t as v,v as Q,x as W,y as X,F as Y}from"./0FX9GfAe.js";import{_ as Z}from"./0qLSW1ft.js";import ee from"./BbOy9NPp.js";import{s as te,u as oe,_ as se}from"./D4P_Z_Ls.js";import{u as ae}from"./D4vyYVcY.js";import{u as ne}from"./DzefAVCE.js";import"./CqXWPShW.js";import"./D_UxRmJ6.js";import"./DZWHryCB.js";import"./8EkXHgL5.js";import"./DJ3xcWB2.js";import"./BRLIA1qG.js";import"./B6Awr0uu.js";const re={class:"flex flex-col text-sm font-bold"},ie={class:"flex items-center gap-1 mb-0"},le={class:"flex items-center gap-1"},ce=["innerHTML"],Pe=F({__name:"[slug]",async setup(me){let n,u;const{setPageStore:S}=te,y=H(),_=l([]),c=l(!0),k=l(y.params.slug),t=l(),d=([n,u]=M(()=>ae("blogs",{filters:{slug:{$eq:k.value}}})),n=await n,u(),n);d.length===0&&V({statusCode:404,message:"Post not found"});const{title:m,excerpt:r,imageUrl:b,publishedAt:C,backDate:P,blocks:w,author:i,seo:A}=d[0],p=P||C;t.value={title:m,excerpt:r,imageUrl:g(b),date:q(p,"date")},S({title:t.value.title,description:t.value.excerpt}),_.value=w.map(o=>({...o,componentName:oe(o.__component),...o.__component==="strapi.author-card"&&{...i,imageUrl:i?.image?g(i.image):D}})),c.value=!1;const{$mdRenderer:B}=O(),L=j(()=>B.render(t.value?.excerpt??""));return ne(A,m,r,"article"),z([I({"@type":"TechArticle",headline:m,image:t.value.imageUrl,datePublished:p,dateModified:p,description:r,author:{"@type":"Person",name:i?.name}})]),(o,pe)=>{const N=K,U=Z,$=ee,R=Q,T=X,E=se;return e(c)?(f(),G(N,{key:0})):(f(),J(Y,{key:1},[s(U,{title:e(t).title,"image-url":e(t).imageUrl,tags:["Blog"]},null,8,["title","image-url"]),a("article",null,[s(T,null,{asideSlot:x(()=>[a("div",re,[a("p",ie,[s($),h(" "+v(e(t).date),1)]),a("p",le,[s(R),h(" "+v(("useReadingtime"in o?o.useReadingtime:e(W))(e(r)))+" minuten lezen ",1)])])]),contentSlot:x(()=>[a("div",{class:"text-xl",innerHTML:e(L)},null,8,ce)]),_:1}),s(E,{"page-blocks":e(_),"is-loading":e(c)},null,8,["page-blocks","is-loading"])])],64))}}});export{Pe as default};
