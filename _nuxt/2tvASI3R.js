import{d as C,a as P,r,w as S,G as B,c as E,e as N,u as t,o as k,_ as U,n as p,f as _,p as A,t as L,y as D,F,s as w,g as $,h as O,l as V,m as q}from"./3kxfX6LS.js";import{_ as G}from"./B3wc79MT.js";import{_ as H,u as I}from"./BNkQiJhh.js";import{u as M}from"./BJv8x0-F.js";import{u as R}from"./CuX---kb.js";import"./a3Z2UdJp.js";import"./Brq-F55f.js";import"./C1UZR9Ff.js";import"./D9gGXEE-.js";import"./DMz0o9PR.js";import"./C1XycFQL.js";import"./DFbguZhn.js";const j=["src"],z={class:"text-xl"},ne=C({__name:"[slug]",async setup(J){let d,g;const f=P(),h=r([]),a=r(!0),i=r(f.params.slug),o=r(),y=async()=>{a.value=!0;try{const e=await M("nieuws",{filters:{slug:{$eq:i.value}}});if(e.length===0){w({statusCode:404,message:"Post not found"});return}const{title:n,excerpt:s,imageUrl:l,publishedAt:c,backDate:m,blocks:v,seo:b}=e[0],u=m||c;o.value={title:n,excerpt:s,imageUrl:O(l),date:$(u,"date")},h.value=v.map(x=>({...x,componentName:I(x.__component)})),R(b,n,s,"article"),V([q({"@type":"Article",headline:n,image:o.value.imageUrl,datePublished:u,dateModified:u,description:s})])}catch(e){console.error("Error loading news post:",e),w({statusCode:500,message:"Error loading post"})}finally{a.value=!1}};return[d,g]=S(()=>y()),await d,g(),B(()=>f.params.slug,e=>{e!==i.value&&(i.value=e,y())}),(e,n)=>{const s=U,l=G,c=D,m=H;return t(a)?(k(),E(s,{key:0})):(k(),N(F,{key:1},[p(l,{title:t(o).title,tags:["Nieuws",t(o).date],"dark-mode":""},null,8,["title","tags"]),_("article",null,[p(c,{"blank-aside":"",class:"nieuws-post-main-section"},{contentSlot:A(()=>[_("img",{src:t(o).imageUrl},null,8,j),_("p",z,L(t(o).excerpt),1)]),_:1}),p(m,{"page-blocks":t(h),"is-loading":t(a)},null,8,["page-blocks","is-loading"])])],64))}}});export{ne as default};
