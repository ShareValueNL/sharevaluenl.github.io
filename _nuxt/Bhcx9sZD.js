import{s as F,u as H,a as M,_ as V}from"./BU_LFsO1.js";import{_ as q}from"./Dj72uE1E.js";import D from"./Dm3K2_I4.js";import{d as O,a as j,r as l,w as z,e as I,s as G,h as J,i as g,j as K,k as Q,l as W,m as X,n as Y,c as Z,f as ee,u as e,o as f,p as s,g as a,q as x,v as h,t as v,_ as te,x as oe,y as se,F as ae}from"./Br0hbQk-.js";import{u as ne}from"./3k2slMiN.js";import"./CIDrjgg6.js";import"./4MkdqN2B.js";import"./RzEqA0kE.js";import"./C2eo76pz.js";import"./DyvVXUQh.js";import"./Cm4qRCae.js";import"./C5jsVmhz.js";import"./BPc3jg6j.js";const re={class:"flex flex-col text-sm font-bold"},ie={class:"flex items-center gap-1 mb-0"},le={class:"flex items-center gap-1"},ce=["innerHTML"],Pe=O({__name:"[slug]",async setup(me){let n,_;const{setPageStore:S}=F,y=j(),u=l([]),c=l(!0),k=l(y.params.slug),t=l(),d=([n,_]=z(()=>I("blogs",{filters:{slug:{$eq:k.value}}})),n=await n,_(),n);d.length===0&&G({statusCode:404,message:"Post not found"});const{title:m,excerpt:r,imageUrl:b,publishedAt:C,backDate:P,blocks:w,author:i,seo:A}=d[0],p=P||C;t.value={title:m,excerpt:r,imageUrl:g(b),date:J(p,"date")},S({title:t.value.title,description:t.value.excerpt}),u.value=w.map(o=>({...o,componentName:H(o.__component),...o.__component==="strapi.author-card"&&{...i,imageUrl:i?.image?g(i.image):K}})),c.value=!1;const{$mdRenderer:B}=Q(),L=W(()=>B.render(t.value?.excerpt??""));return ne(A,m,r,"article"),X([Y({"@type":"TechArticle",headline:m,image:t.value.imageUrl,datePublished:p,dateModified:p,description:r,author:{"@type":"Person",name:i?.name}})]),(o,pe)=>{const N=M,U=q,$=D,R=te,T=se,E=V;return e(c)?(f(),Z(N,{key:0})):(f(),ee(ae,{key:1},[s(U,{title:e(t).title,"image-url":e(t).imageUrl,tags:["Blog"]},null,8,["title","image-url"]),a("article",null,[s(T,null,{asideSlot:x(()=>[a("div",re,[a("p",ie,[s($),h(" "+v(e(t).date),1)]),a("p",le,[s(R),h(" "+v(("useReadingtime"in o?o.useReadingtime:e(oe))(e(r)))+" minuten lezen ",1)])])]),contentSlot:x(()=>[a("div",{class:"text-xl",innerHTML:e(L)},null,8,ce)]),_:1}),s(E,{"page-blocks":e(u),"is-loading":e(c)},null,8,["page-blocks","is-loading"])])],64))}}});export{Pe as default};
