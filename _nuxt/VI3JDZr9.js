import{s as F,u as H,_ as M,a as V}from"./D1AyTBd_.js";import{_ as q}from"./DvqvgPT6.js";import D from"./CZC90FqG.js";import{d as O,a as j,r as l,w as z,s as I,g as G,h as g,i as J,j as K,k as Q,l as W,m as X,c as Y,e as Z,u as e,n as s,f as a,p as f,F as ee,_ as te,o as h,q as x,t as v,v as oe,x as se}from"./70vsPalk.js";import{u as ae}from"./DMeDRlsq.js";import{u as ne}from"./E4XdXHJ8.js";import"./DWf1GJ35.js";import"./FulMZ46b.js";import"./CibHfIBi.js";import"./CzUrrMxy.js";import"./B4fhQM6R.js";import"./Cv4iIsjH.js";import"./mO45IOFZ.js";import"./Bd28mLpD.js";import"./CKQT2tR0.js";const re={class:"flex flex-col text-sm font-bold"},ie={class:"flex items-center gap-1 mb-0"},le={class:"flex items-center gap-1"},ce=["innerHTML"],Ae=O({__name:"[slug]",async setup(me){let n,u;const{setPageStore:S}=F,y=j(),_=l([]),c=l(!0),k=l(y.params.slug),t=l(),d=([n,u]=z(()=>ae("blogs",{filters:{slug:{$eq:k.value}}})),n=await n,u(),n);d.length===0&&I({statusCode:404,message:"Post not found"});const{title:m,excerpt:r,imageUrl:b,publishedAt:C,backDate:P,blocks:w,author:i,seo:A}=d[0],p=P||C;t.value={title:m,excerpt:r,imageUrl:g(b),date:G(p,"date")},S({title:t.value.title,description:t.value.excerpt}),_.value=w.map(o=>({...o,componentName:H(o.__component),...o.__component==="strapi.author-card"&&{...i,imageUrl:i?.image?g(i.image):J}})),c.value=!1;const{$mdRenderer:B}=K(),L=Q(()=>B.render(t.value?.excerpt??""));return ne(A,m,r,"article"),W([X({"@type":"TechArticle",headline:m,image:t.value.imageUrl,datePublished:p,dateModified:p,description:r,author:{"@type":"Person",name:i?.name}})]),(o,pe)=>{const N=V,U=q,$=D,R=oe,T=te,E=M;return e(c)?(h(),Y(N,{key:0})):(h(),Z(ee,{key:1},[s(U,{title:e(t).title,"image-url":e(t).imageUrl,tags:["Blog"]},null,8,["title","image-url"]),a("article",null,[s(T,null,{asideSlot:f(()=>[a("div",re,[a("p",ie,[s($),x(" "+v(e(t).date),1)]),a("p",le,[s(R),x(" "+v(("useReadingtime"in o?o.useReadingtime:e(se))(e(r)))+" minuten lezen ",1)])])]),contentSlot:f(()=>[a("div",{class:"text-xl",innerHTML:e(L)},null,8,ce)]),_:1}),s(E,{"page-blocks":e(_),"is-loading":e(c)},null,8,["page-blocks","is-loading"])])],64))}}});export{Ae as default};
