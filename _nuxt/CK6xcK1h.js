import{a as C,_ as P,u as S}from"./BU_LFsO1.js";import{_ as B}from"./Dj72uE1E.js";import{d as E,a as N,r,w as U,G as A,c as L,f as D,u as t,o as k,p as u,g as _,q as F,t as $,y as q,F as O,e as V,s as w,h as G,i as H,m as I,n as M}from"./Br0hbQk-.js";import{u as R}from"./3k2slMiN.js";import"./CIDrjgg6.js";import"./4MkdqN2B.js";import"./RzEqA0kE.js";import"./C2eo76pz.js";import"./DyvVXUQh.js";import"./Cm4qRCae.js";import"./C5jsVmhz.js";import"./BPc3jg6j.js";const j=["src"],z={class:"text-xl"},ne=E({__name:"[slug]",async setup(J){let d,g;const f=N(),h=r([]),a=r(!0),i=r(f.params.slug),o=r(),y=async()=>{a.value=!0;try{const e=await V("nieuws",{filters:{slug:{$eq:i.value}}});if(e.length===0){w({statusCode:404,message:"Post not found"});return}const{title:n,excerpt:s,imageUrl:c,publishedAt:l,backDate:m,blocks:v,seo:b}=e[0],p=m||l;o.value={title:n,excerpt:s,imageUrl:H(c),date:G(p,"date")},h.value=v.map(x=>({...x,componentName:S(x.__component)})),R(b,n,s,"article"),I([M({"@type":"Article",headline:n,image:o.value.imageUrl,datePublished:p,dateModified:p,description:s})])}catch(e){console.error("Error loading news post:",e),w({statusCode:500,message:"Error loading post"})}finally{a.value=!1}};return[d,g]=U(()=>y()),await d,g(),A(()=>f.params.slug,e=>{e!==i.value&&(i.value=e,y())}),(e,n)=>{const s=C,c=B,l=q,m=P;return t(a)?(k(),L(s,{key:0})):(k(),D(O,{key:1},[u(c,{title:t(o).title,tags:["Nieuws",t(o).date],"dark-mode":""},null,8,["title","tags"]),_("article",null,[u(l,{"blank-aside":"",class:"nieuws-post-main-section"},{contentSlot:F(()=>[_("img",{src:t(o).imageUrl},null,8,j),_("p",z,$(t(o).excerpt),1)]),_:1}),u(m,{"page-blocks":t(h),"is-loading":t(a)},null,8,["page-blocks","is-loading"])])],64))}}});export{ne as default};
