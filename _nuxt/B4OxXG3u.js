import{d as F,a as H,r as l,w as M,e as V,s as q,h as z,i as g,j as D,k as O,l as j,m as I,n as G,c as J,f as K,u as e,o as f,_ as Q,p as s,g as a,q as x,v as h,t as v,x as W,y as X,z as Y,F as Z}from"./4g552CHT.js";import{_ as ee}from"./BRJgDuPZ.js";import te from"./BKoXiPoV.js";import{s as oe,u as se,_ as ae}from"./CW2oOFL3.js";import{u as ne}from"./BC3ktJky.js";import"./Cf_1rUMT.js";import"./DclM1VkG.js";import"./Co4p9f4A.js";import"./lvNcboXU.js";import"./CoDa6EOc.js";import"./1FT1uEHD.js";import"./CuXR2oxO.js";import"./CtcIyhha.js";const re={class:"flex flex-col text-sm font-bold"},ie={class:"flex items-center gap-1 mb-0"},le={class:"flex items-center gap-1"},ce=["innerHTML"],Pe=F({__name:"[slug]",async setup(me){let n,_;const{setPageStore:S}=oe,y=H(),u=l([]),c=l(!0),k=l(y.params.slug),t=l(),d=([n,_]=M(()=>V("blogs",{filters:{slug:{$eq:k.value}}})),n=await n,_(),n);d.length===0&&q({statusCode:404,message:"Post not found"});const{title:m,excerpt:r,imageUrl:b,publishedAt:C,backDate:P,blocks:w,author:i,seo:A}=d[0],p=P||C;t.value={title:m,excerpt:r,imageUrl:g(b),date:z(p,"date")},S({title:t.value.title,description:t.value.excerpt}),u.value=w.map(o=>({...o,componentName:se(o.__component),...o.__component==="strapi.author-card"&&{...i,imageUrl:i?.image?g(i.image):D}})),c.value=!1;const{$mdRenderer:B}=O(),L=j(()=>B.render(t.value?.excerpt??""));return ne(A,m,r,"article"),I([G({"@type":"TechArticle",headline:m,image:t.value.imageUrl,datePublished:p,dateModified:p,description:r,author:{"@type":"Person",name:i?.name}})]),(o,pe)=>{const N=Q,U=ee,$=te,R=W,T=Y,E=ae;return e(c)?(f(),J(N,{key:0})):(f(),K(Z,{key:1},[s(U,{title:e(t).title,"image-url":e(t).imageUrl,tags:["Blog"]},null,8,["title","image-url"]),a("article",null,[s(T,null,{asideSlot:x(()=>[a("div",re,[a("p",ie,[s($),h(" "+v(e(t).date),1)]),a("p",le,[s(R),h(" "+v(("useReadingtime"in o?o.useReadingtime:e(X))(e(r)))+" minuten lezen ",1)])])]),contentSlot:x(()=>[a("div",{class:"text-xl",innerHTML:e(L)},null,8,ce)]),_:1}),s(E,{"page-blocks":e(u),"is-loading":e(c)},null,8,["page-blocks","is-loading"])])],64))}}});export{Pe as default};
