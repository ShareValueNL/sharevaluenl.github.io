import{ao as f,ap as h,am as m,s as k}from"./BbWEvUYg.js";const v={expertises:"expertises",diensten:"diensten",aanpakken:"aanpakken",klantcases:"klant-cases",collegas:"collegas",ctas:"cta-blocks",vacatures:"vacatures",memberships:"memberships",collegaReviews:"collegaReviews",stageVactures:"stageVactures",blogs:"blog-posts",nieuws:"nieuws-posts",events:"event-posts",KWFEvents:"kwf-events",contactSections:"contact-sections",testimonials:"testimonials",wordOnzeCollegaPaginas:"word-onze-collega-paginas",qrCodes:"qr-codes"},u={pages:{home:"home",expertisePage:"expertise-page",dienstenPage:"diensten-page",onzeAanpakPage:"onze-aanpak-page",overOns:"over-ons",watWeDoen:"wat-we-doen",korteOpdrachten:"korte-opdrachten",social:"social",ontmoetOnzeExperts:"ontmoet-onze-experts",zakenvriendVanKWF:"zakenvriend-van-kwf",contact:"contact",privacyverklaring:"privacyverklaring",vacaturesPage:"vacatures-page",wordOnzeCollega:"word-onze-collega-page",membershipPage:"membership-page",collegasAanHetWoord:"collegas-aan-het-woord",stageLopenPage:"stage-lopen-page",disclaimer:"disclaimer",cookiePolicy:"cookiePolicy",algemeneLeveringsVoorwaarden:"algemene-leveringsvoorwaarden",updatesPage:"updates-page",azureEngineerBootcamp:"azure-engineer-bootcamp-pagina"},collections:v},w=()=>{const n=f();return h()!=="v4"&&console.warn("useStrapi4 is only available for v4"),{find:(o,a,e)=>n(`/${o}`,{method:"GET",params:a,...e}),findOne:(o,a,e,s)=>{typeof a=="object"&&(e=a,a=void 0);const c=[o,a].filter(Boolean).join("/");return n(c,{method:"GET",params:e,...s})},create:(o,a)=>n(`/${o}`,{method:"POST",body:{data:a}}),update:(o,a,e)=>{typeof a=="object"&&(e=a,a=void 0);const s=[o,a].filter(Boolean).join("/");return n(s,{method:"PUT",body:{data:e}})},delete:(o,a)=>{const e=[o,a].filter(Boolean).join("/");return n(e,{method:"DELETE"})}}},x=()=>w(),{collections:P}=u,r={populate:"deep",pagination:{page:1,pageSize:100,withCount:!1}},y=["nieuws","klantcases","blogs"];async function O(n,t){try{const i=t&&"filters"in t&&t.filters&&(Object.keys(t.filters).includes("slug")||Object.keys(t.filters).some(e=>e.includes("slug")))||n==="aanpakken";y.includes(n)?r.sort=["backDate:desc","publishedAt:desc","createdAt:desc"]:n==="events"?r.sort=["eventStart:desc","publishedAt:desc","createdAt:desc"]:r.sort=["publishedAt:desc","createdAt:desc"];const d={server:!0,lazy:!1,immediate:!0,watch:[],default:()=>({data:[]}),...i?{timeout:8e3,retry:2,retryDelay:500}:{timeout:5e3}},g=JSON.stringify(t||{}),p=`collection-${n}-${g.slice(0,50)}`,{data:o}=await m(p,async()=>{try{i&&console.log(`[useCollection] Client-side ${n} fetch for ${p}`);const{find:s}=x(),c=await s(P[n],{...r,...t});if(i){const z=c&&c.data&&c.data.length>0}return c}catch(e){if(console.error(`[useCollection] Error fetching ${n}:`,e),i)throw e;return{data:[]}}},d),a=o.value;return a.data.map(({attributes:e})=>(e.expertises&&(e.expertises.data?.length&&(e.expertises=e.expertises.data.map(({attributes:s})=>s)),e.expertises.length||(e.expertises=[])),e.klanten&&(e.klanten.data?.length&&(e.klanten=e.klanten.data.map(({attributes:s})=>s)),e.klanten.length||(e.klanten=[])),e.collegas&&(e.collegas.data?.length&&(e.collegas=e.collegas.data.map(({attributes:s})=>s)),e.collegas.length||(e.collegas=[])),e.author&&(e.author=e.author?.data?e.author.data.attributes:e.author),e.collega&&(e.collega=e.collega?.data?e.collega.data.attributes:e.collega),e.klant&&(e.klant=e.klant?.data?e.klant.data.attributes:e.klant),e.expertise&&(e.expertise=e.expertise?.data?e.expertise.data.attributes:e.expertise),e.contactPerson&&(e.contactPerson=e.contactPerson?.data?e.contactPerson.data.attributes:e.contactPerson),e.meta=a.meta?a.meta:null,e))}catch(l){if(console.error(`[useCollection] Error in ${n}:`,l),l)throw k({statusCode:l?.status??500,statusMessage:l?.message??"Error loading data"});return[]}finally{r.pagination={page:1,pageSize:100,withCount:!1},r.sort=[]}}export{x as a,u as c,O as u};
