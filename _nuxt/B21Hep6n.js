import{ap as f,an as h,s as m}from"./BLMorvmx.js";const k={expertises:"expertises",diensten:"diensten",aanpakken:"aanpakken",klantcases:"klant-cases",collegas:"collegas",ctas:"cta-blocks",vacatures:"vacatures",memberships:"memberships",collegaReviews:"collegaReviews",stageVactures:"stageVactures",blogs:"blog-posts",nieuws:"nieuws-posts",events:"event-posts",KWFEvents:"kwf-events",contactSections:"contact-sections",testimonials:"testimonials",wordOnzeCollegaPaginas:"word-onze-collega-paginas",qrCodes:"qr-codes"},v={pages:{home:"home",expertisePage:"expertise-page",dienstenPage:"diensten-page",onzeAanpakPage:"onze-aanpak-page",overOns:"over-ons",watWeDoen:"wat-we-doen",korteOpdrachten:"korte-opdrachten",social:"social",ontmoetOnzeExperts:"ontmoet-onze-experts",zakenvriendVanKWF:"zakenvriend-van-kwf",contact:"contact",privacyverklaring:"privacyverklaring",vacaturesPage:"vacatures-page",wordOnzeCollega:"word-onze-collega-page",membershipPage:"membership-page",collegasAanHetWoord:"collegas-aan-het-woord",stageLopenPage:"stage-lopen-page",disclaimer:"disclaimer",cookiePolicy:"cookiePolicy",algemeneLeveringsVoorwaarden:"algemene-leveringsvoorwaarden",updatesPage:"updates-page",azureEngineerBootcamp:"azure-engineer-bootcamp-pagina"},collections:k},u=()=>{const n=f();return{find:(s,a,o)=>n(`/${s}`,{method:"GET",params:a,...o}),findOne:(s,a,o,e)=>{typeof a=="object"&&(o=a,a=void 0);const t=[s,a].filter(Boolean).join("/");return n(t,{method:"GET",params:o,...e})},create:(s,a)=>n(`/${s}`,{method:"POST",body:{data:a}}),update:(s,a,o)=>{typeof a=="object"&&(o=a,a=void 0);const e=[s,a].filter(Boolean).join("/");return n(e,{method:"PUT",body:{data:o}})},delete:(s,a)=>{const o=[s,a].filter(Boolean).join("/");return n(o,{method:"DELETE"})}}},{collections:w}=v,r={populate:"deep",pagination:{page:1,pageSize:100,withCount:!1}},x=["nieuws","klantcases","blogs"];async function y(n,l){try{const i=l&&"filters"in l&&l.filters&&(Object.keys(l.filters).includes("slug")||Object.keys(l.filters).some(e=>e.includes("slug")))||n==="aanpakken";x.includes(n)?r.sort=["backDate:desc","publishedAt:desc","createdAt:desc"]:n==="events"?r.sort=["eventStart:desc","publishedAt:desc","createdAt:desc"]:r.sort=["publishedAt:desc","createdAt:desc"];const p={server:!0,lazy:!1,immediate:!0,watch:[],default:()=>({data:[]}),...i?{timeout:8e3,retry:2,retryDelay:500}:{timeout:5e3}},g=JSON.stringify(l||{}),s=`collection-${n}-${g.slice(0,50)}`,{data:a}=await h(s,async()=>{try{i&&console.log(`[useCollection] Client-side ${n} fetch for ${s}`);const{find:t}=u(),d=await t(w[n],{...r,...l});if(i){const P=d&&d.data&&d.data.length>0}return d}catch(e){if(console.error(`[useCollection] Error fetching ${n}:`,e),i)throw e;return{data:[]}}},p),o=a.value;return o.data.map(({attributes:e})=>(e.expertises&&(e.expertises.data?.length&&(e.expertises=e.expertises.data.map(({attributes:t})=>t)),e.expertises.length||(e.expertises=[])),e.klanten&&(e.klanten.data?.length&&(e.klanten=e.klanten.data.map(({attributes:t})=>t)),e.klanten.length||(e.klanten=[])),e.collegas&&(e.collegas.data?.length&&(e.collegas=e.collegas.data.map(({attributes:t})=>t)),e.collegas.length||(e.collegas=[])),e.author&&(e.author=e.author?.data?e.author.data.attributes:e.author),e.collega&&(e.collega=e.collega?.data?e.collega.data.attributes:e.collega),e.klant&&(e.klant=e.klant?.data?e.klant.data.attributes:e.klant),e.expertise&&(e.expertise=e.expertise?.data?e.expertise.data.attributes:e.expertise),e.contactPerson&&(e.contactPerson=e.contactPerson?.data?e.contactPerson.data.attributes:e.contactPerson),e.meta=o.meta?o.meta:null,e))}catch(c){if(console.error(`[useCollection] Error in ${n}:`,c),c)throw m({statusCode:c?.status??500,statusMessage:c?.message??"Error loading data"});return[]}finally{r.pagination={page:1,pageSize:100,withCount:!1},r.sort=[]}}export{u as a,v as c,y as u};
