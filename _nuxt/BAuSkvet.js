import{ap as f,an as h,s as m}from"./Cq-ffvSQ.js";const v={expertises:"expertises",diensten:"diensten",aanpakken:"aanpakken",klantcases:"klant-cases",collegas:"collegas",ctas:"cta-blocks",vacatures:"vacatures",memberships:"memberships",collegaReviews:"collegaReviews",stageVactures:"stageVactures",blogs:"blog-posts",nieuws:"nieuws-posts",events:"event-posts",KWFEvents:"kwf-events",contactSections:"contact-sections",testimonials:"testimonials",wordOnzeCollegaPaginas:"word-onze-collega-paginas",qrCodes:"qr-codes"},k={pages:{home:"home",expertisePage:"expertise-page",dienstenPage:"diensten-page",onzeAanpakPage:"onze-aanpak-page",overOns:"over-ons",watWeDoen:"wat-we-doen",korteOpdrachten:"korte-opdrachten",social:"social",ontmoetOnzeExperts:"ontmoet-onze-experts",zakenvriendVanKWF:"zakenvriend-van-kwf",contact:"contact",privacyverklaring:"privacyverklaring",vacaturesPage:"vacatures-page",wordOnzeCollega:"word-onze-collega-page",membershipPage:"membership-page",collegasAanHetWoord:"collegas-aan-het-woord",stageLopenPage:"stage-lopen-page",disclaimer:"disclaimer",cookiePolicy:"cookiePolicy",algemeneLeveringsVoorwaarden:"algemene-leveringsvoorwaarden",updatesPage:"updates-page",azureEngineerBootcamp:"azure-engineer-bootcamp-pagina"},collections:v},w=()=>{const t=f();return{find:(s,e,a)=>t(`/${s}`,{method:"GET",params:e,...a}),findOne:(s,e,a,i)=>{typeof e=="object"&&(a=e,e=void 0);const n=[s,e].filter(Boolean).join("/");return t(n,{method:"GET",params:a,...i})},create:(s,e)=>t(`/${s}`,{method:"POST",body:{data:e}}),update:(s,e,a)=>{typeof e=="object"&&(a=e,e=void 0);const i=[s,e].filter(Boolean).join("/");return t(i,{method:"PUT",body:{data:a}})},delete:(s,e)=>{const a=[s,e].filter(Boolean).join("/");return t(a,{method:"DELETE"})}}},{collections:b}=k,c={pagination:{page:1,pageSize:100,withCount:!1},pLevel:5},y=["nieuws","klantcases","blogs"];async function E(t,o){try{const l=o&&"filters"in o&&o.filters&&(Object.keys(o.filters).includes("slug")||Object.keys(o.filters).some(n=>n.includes("slug")))||t==="aanpakken";y.includes(t)?c.sort=["backDate:desc","publishedAt:desc","createdAt:desc"]:t==="events"?c.sort=["eventStart:desc","publishedAt:desc","createdAt:desc"]:c.sort=["publishedAt:desc","createdAt:desc"];const d={server:!0,lazy:!1,immediate:!0,watch:[],default:()=>({data:[]}),...l?{timeout:8e3,retry:2,retryDelay:500}:{timeout:5e3}},g=JSON.stringify(o||{}),s=`collection-${t}-${g.slice(0,50)}`,{data:e}=await h(s,async()=>{try{l&&console.log(`[useCollection] Client-side ${t} fetch for ${s}`);const{find:u}=w(),p=await u(b[t],{...c,...o});if(l){const z=p&&p.data&&p.data.length>0}return p}catch(n){if(console.error(`[useCollection] Error fetching ${t}:`,n),l)throw n;return{data:[]}}},d),i=e.value?.data??[];return Array.isArray(i)?i:[]}catch(r){if(console.error(`[useCollection] Error in ${t}:`,r),r)throw m({statusCode:r?.status??500,statusMessage:r?.message??"Error loading data"});return[]}finally{c.pagination={page:1,pageSize:100,withCount:!1},c.sort=[]}}export{w as a,k as c,E as u};
