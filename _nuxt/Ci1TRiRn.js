import{ao as x,ap as P,am as y,s as z}from"./DfbAEhwh.js";const C={expertises:"expertises",diensten:"diensten",aanpakken:"aanpakken",klantcases:"klant-cases",collegas:"collegas",ctas:"cta-blocks",vacatures:"vacatures",memberships:"memberships",collegaReviews:"collegaReviews",stageVactures:"stageVactures",blogs:"blog-posts",nieuws:"nieuws-posts",events:"event-posts",KWFEvents:"kwf-events",contactSections:"contact-sections",testimonials:"testimonials",wordOnzeCollegaPaginas:"word-onze-collega-paginas",qrCodes:"qr-codes"},E={pages:{home:"home",expertisePage:"expertise-page",dienstenPage:"diensten-page",onzeAanpakPage:"onze-aanpak-page",overOns:"over-ons",watWeDoen:"wat-we-doen",korteOpdrachten:"korte-opdrachten",social:"social",ontmoetOnzeExperts:"ontmoet-onze-experts",zakenvriendVanKWF:"zakenvriend-van-kwf",contact:"contact",privacyverklaring:"privacyverklaring",vacaturesPage:"vacatures-page",wordOnzeCollega:"word-onze-collega-page",membershipPage:"membership-page",collegasAanHetWoord:"collegas-aan-het-woord",stageLopenPage:"stage-lopen-page",disclaimer:"disclaimer",cookiePolicy:"cookiePolicy",algemeneLeveringsVoorwaarden:"algemene-leveringsvoorwaarden",updatesPage:"updates-page",azureEngineerBootcamp:"azure-engineer-bootcamp-pagina"},collections:C},O=()=>{const n=x();return P()!=="v4"&&console.warn("useStrapi4 is only available for v4"),{find:(o,a,e)=>n(`/${o}`,{method:"GET",params:a,...e}),findOne:(o,a,e,c)=>{typeof a=="object"&&(e=a,a=void 0);const t=[o,a].filter(Boolean).join("/");return n(t,{method:"GET",params:e,...c})},create:(o,a)=>n(`/${o}`,{method:"POST",body:{data:a}}),update:(o,a,e)=>{typeof a=="object"&&(e=a,a=void 0);const c=[o,a].filter(Boolean).join("/");return n(c,{method:"PUT",body:{data:e}})},delete:(o,a)=>{const e=[o,a].filter(Boolean).join("/");return n(e,{method:"DELETE"})}}},S=()=>O(),{collections:A}=E,r={populate:"deep",pagination:{page:1,pageSize:100,withCount:!1}},$=["nieuws","klantcases","blogs"];async function R(n,l){try{const i=l&&"filters"in l&&l.filters&&(Object.keys(l.filters).includes("slug")||Object.keys(l.filters).some(e=>e.includes("slug")))||n==="aanpakken";$.includes(n)?r.sort=["backDate:desc","publishedAt:desc","createdAt:desc"]:n==="events"?r.sort=["eventStart:desc","publishedAt:desc","createdAt:desc"]:r.sort=["publishedAt:desc","createdAt:desc"];const f={server:!0,lazy:!1,immediate:!0,watch:[],default:()=>({data:[]}),...i?{timeout:8e3,retry:2,retryDelay:500}:{timeout:5e3}},h=JSON.stringify(l||{}),d=`collection-${n}-${h.slice(0,50)}`,{data:o}=await y(d,async()=>{try{i&&console.log(`[useCollection] Client-side ${n} fetch for ${d}`);const{find:c}=S(),t=await c(A[n],{...r,...l});if(i){const g=t&&t.data&&t.data.length>0}return t}catch(e){if(console.error(`[useCollection] Error fetching ${n}:`,e),i)throw e;return{data:[]}}},f),a=o.value;return a.data.map(({attributes:e})=>{var c,t,g,m,k,v,u,w;return e.expertises&&((c=e.expertises.data)!=null&&c.length&&(e.expertises=e.expertises.data.map(({attributes:p})=>p)),e.expertises.length||(e.expertises=[])),e.klanten&&((t=e.klanten.data)!=null&&t.length&&(e.klanten=e.klanten.data.map(({attributes:p})=>p)),e.klanten.length||(e.klanten=[])),e.collegas&&((g=e.collegas.data)!=null&&g.length&&(e.collegas=e.collegas.data.map(({attributes:p})=>p)),e.collegas.length||(e.collegas=[])),e.author&&(e.author=(m=e.author)!=null&&m.data?e.author.data.attributes:e.author),e.collega&&(e.collega=(k=e.collega)!=null&&k.data?e.collega.data.attributes:e.collega),e.klant&&(e.klant=(v=e.klant)!=null&&v.data?e.klant.data.attributes:e.klant),e.expertise&&(e.expertise=(u=e.expertise)!=null&&u.data?e.expertise.data.attributes:e.expertise),e.contactPerson&&(e.contactPerson=(w=e.contactPerson)!=null&&w.data?e.contactPerson.data.attributes:e.contactPerson),e.meta=a.meta?a.meta:null,e})}catch(s){if(console.error(`[useCollection] Error in ${n}:`,s),s)throw z({statusCode:(s==null?void 0:s.status)??500,statusMessage:(s==null?void 0:s.message)??"Error loading data"});return[]}finally{r.pagination={page:1,pageSize:100,withCount:!1},r.sort=[]}}export{S as a,E as c,R as u};
